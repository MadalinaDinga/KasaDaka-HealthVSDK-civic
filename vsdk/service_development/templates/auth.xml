{% extends "base.xml" %}
{% block content%}

<form id="auth_form">

    <block>
        <prompt>
            <audio src="{{ language.get_interface_voice_label_url_dict.auth_voice_label }}"/>
        </prompt>

        <field name="username_field">
            <prompt>
                 <audio src="{{ language.get_interface_voice_label_url_dict.username_voice_label }}"/>
            </prompt>

            {# all possible inputs from the user #}
            <grammar xml:lang="en-US" root = "MYRULE" mode="dtmf">
                  <rule id="MYRULE" scope = "public">
                    <one-of>
                      {% for option in choice_options %}
                        <item>{{ forloop.counter }}</item>
                      {% endfor %}
                    </one-of>
                   </rule>
            </grammar>

            <filled>
                <prompt>
                     <audio src="{{ language.get_interface_voice_label_url_dict.next_voice_label }}"/>
                </prompt>
            </filled>
        </field>

        <assign name="username" expr="'123'"/>
        <assign name="pass" expr="'123456'"/>

        {# include the variables in the dictionary 'pass_on_variables' as POST variables #}
        {% for key, value in pass_on_variables.items %}
        <assign name="{{ key }}" expr="'{{ value }}'"/>
        {% endfor %}
        <submit next="{{ redirect_url }}" method="post" namelist="username pass {% for key, value in pass_on_variables.items %} {{ key }} {% endfor %}"/>
    </block>
</form>

{% endblock %}
